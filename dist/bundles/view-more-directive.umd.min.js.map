{"version":3,"sources":["ng://view-more-directive/app/app.component.ts","ng://view-more-directive/app/hello.component.ts","ng://view-more-directive/app/view-more.directive.ts","ng://view-more-directive/app/app.module.ts"],"names":["AppComponent","http","this","name","showReadmore","prototype","ngOnInit","console","log","formData","FormData","append","options","headers","HttpHeaders","set","post","subscribe","res","showMore","show","Component","args","selector","template","HttpClient","HelloComponent","Input","ViewMoreDirective","elRef","EventEmitter","toggleShowMore","element","nativeElement","viewHeight","offsetHeight","ngAfterViewInit","_this","actualHeight","para","document","createElement","span","textNode","createTextNode","appendChild","setAttribute","parentNode","insertBefore","nextSibling","toggleEventOnViewMore","setTimeout","emit","createdStyleTag","textContent","style","animationDirection","addEventListener","classList","remove","getElementById","innerHTML","add","ngOnDestroy","Directive","ElementRef","Output","AppModule","NgModule","imports","BrowserModule","FormsModule","HttpClientModule","declarations","bootstrap","exports"],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  name = 'hi';\n  showReadmore: boolean = false;\n  constructor(private http: HttpClient) {\n  }\n  ngOnInit() {\n    console.log('height equal');\n    const data = {\n      name: 'vaibhav',\n      email: 'test@test.com'\n    }\n    const formData = new FormData();\n    formData.append('name', 'vaibhav');\n    formData.append('email', 'test@test.com');\n    const url = 'http://192.168.15.160:8000/api/reg';\n    const options = {\n      headers: new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\n    };\n    this.http.post(url, formData, options).subscribe(res => {\n      console.log('res', res);\n    });\n  }\n  showMore(show: boolean) {\n    this.showReadmore = show;\n    console.log(show);\n  }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'hello',\n  template: `<h1>Hello {{name}}!</h1>`,\n  styles: [`h1 { font-family: Lato; }`]\n})\nexport class HelloComponent  {\n  @Input() name: string;\n}\n","import { Directive, ElementRef, OnInit, AfterViewInit, Output, Input, EventEmitter, OnDestroy } from '@angular/core';\n\n@Directive({\n  selector: '[view-more]'\n})\nexport class ViewMoreDirective implements OnInit, AfterViewInit, OnDestroy {\n  private element: HTMLInputElement;\n  @Input() viewHeight: number;\n  @Output() showMore = new EventEmitter<boolean>()\n  toggleShowMore = false;\n  actualHeight: number;\n\n  constructor(private elRef: ElementRef) {\n    //elRef will get a reference to the element where\n    //the directive is placed\n    this.element = elRef.nativeElement;\n  }\n\n  ngOnInit() {\n    console.log('height equal', this.viewHeight, this.element.offsetHeight);\n  }\n  ngAfterViewInit() {\n    this.actualHeight = this.element.offsetHeight + 10;\n    if (this.element.offsetHeight > this.viewHeight) {\n      let btnName = 'view More...'\n      console.log('height equal');\n\n      let para = document.createElement(\"p\");\n      let span = document.createElement(\"span\");\n      let textNode = document.createTextNode(`${ btnName }`);\n      span.appendChild(textNode);\n      para.appendChild(span);\n      para.setAttribute(`style`, `text-align: right;`);\n      span.setAttribute(`id`, `text_view`);\n      span.setAttribute('style', 'cursor:pointer;')\n      this.element.parentNode.insertBefore(para, this.element.nextSibling)\n      this.toggleEventOnViewMore(span)\n      setTimeout(() => {\n        this.showMore.emit(true);\n      }, 1000)\n    }\n    else {\n      console.log('height not equal');\n      this.showMore.emit(false);\n    }\n  }\n  toggleEventOnViewMore(element: HTMLElement) {\n    this.element.setAttribute(\n      `style`,\n      `overflow: hidden;\n    height: ${this.viewHeight }px;\n    transition: height 1s ease;\n    `\n    );\n    let createdStyleTag: HTMLStyleElement;\n    createdStyleTag = document.createElement(\"style\");\n    createdStyleTag.setAttribute(`id`, `style_view_more`);\n    createdStyleTag.textContent = `.view_more {\n      height: ${this.actualHeight }px !important;\n    }  \n`;\n    this.element.style.animationDirection = \"\";\n    // document.body.appendChild(createdStyleTag);\n    this.element.appendChild(createdStyleTag);\n    element.addEventListener('click', () => {\n\n      if (this.toggleShowMore) {\n        console.log('viewless');\n        this.element.classList.remove(\"view_more\");\n        document.getElementById('text_view').innerHTML = 'view more...';\n        this.toggleShowMore = !this.toggleShowMore;\n      } else {\n        console.log('viewmore');\n        document.getElementById('text_view').innerHTML = 'view less...';\n        this.element.classList.add(\"view_more\");\n        this.toggleShowMore = !this.toggleShowMore;\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    document.getElementById('style_view_more').remove();\n  }\n}","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\nimport { ViewMoreDirective } from './view-more.directive';\nimport {HttpClientModule} from '@angular/common/http'\n\n@NgModule({\n  imports:      [ BrowserModule, FormsModule, HttpClientModule ],\n  declarations: [ AppComponent, HelloComponent,ViewMoreDirective ],\n  bootstrap: [AppComponent],\n  exports:[ViewMoreDirective]\n})\nexport class AppModule { }\n"]}
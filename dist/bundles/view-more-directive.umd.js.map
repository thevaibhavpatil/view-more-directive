{"version":3,"file":"view-more-directive.umd.js.map","sources":["ng://view-more-directive/app/app.component.ts","ng://view-more-directive/app/hello.component.ts","ng://view-more-directive/app/view-more.directive.ts","ng://view-more-directive/app/app.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  name = 'hi';\n  showReadmore: boolean = false;\n  constructor(private http: HttpClient) {\n  }\n  ngOnInit() {\n    console.log('height equal');\n    const data = {\n      name: 'vaibhav',\n      email: 'test@test.com'\n    }\n    const formData = new FormData();\n    formData.append('name', 'vaibhav');\n    formData.append('email', 'test@test.com');\n    const url = 'http://192.168.15.160:8000/api/reg';\n    const options = {\n      headers: new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\n    };\n    this.http.post(url, formData, options).subscribe(res => {\n      console.log('res', res);\n    });\n  }\n  showMore(show: boolean) {\n    this.showReadmore = show;\n    console.log(show);\n  }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'hello',\n  template: `<h1>Hello {{name}}!</h1>`,\n  styles: [`h1 { font-family: Lato; }`]\n})\nexport class HelloComponent  {\n  @Input() name: string;\n}\n","import { Directive, ElementRef, OnInit, AfterViewInit, Output, Input, EventEmitter, OnDestroy } from '@angular/core';\n\n@Directive({\n  selector: '[view-more]'\n})\nexport class ViewMoreDirective implements OnInit, AfterViewInit, OnDestroy {\n  private element: HTMLInputElement;\n  @Input() viewHeight: number;\n  @Output() showMore = new EventEmitter<boolean>()\n  toggleShowMore = false;\n  actualHeight: number;\n\n  constructor(private elRef: ElementRef) {\n    //elRef will get a reference to the element where\n    //the directive is placed\n    this.element = elRef.nativeElement;\n  }\n\n  ngOnInit() {\n    console.log('height equal', this.viewHeight, this.element.offsetHeight);\n  }\n  ngAfterViewInit() {\n    this.actualHeight = this.element.offsetHeight + 10;\n    if (this.element.offsetHeight > this.viewHeight) {\n      let btnName = 'view More...'\n      console.log('height equal');\n\n      let para = document.createElement(\"p\");\n      let span = document.createElement(\"span\");\n      let textNode = document.createTextNode(`${ btnName }`);\n      span.appendChild(textNode);\n      para.appendChild(span);\n      para.setAttribute(`style`, `text-align: right;`);\n      span.setAttribute(`id`, `text_view`);\n      span.setAttribute('style', 'cursor:pointer;')\n      this.element.parentNode.insertBefore(para, this.element.nextSibling)\n      this.toggleEventOnViewMore(span)\n      setTimeout(() => {\n        this.showMore.emit(true);\n      }, 1000)\n    }\n    else {\n      console.log('height not equal');\n      this.showMore.emit(false);\n    }\n  }\n  toggleEventOnViewMore(element: HTMLElement) {\n    this.element.setAttribute(\n      `style`,\n      `overflow: hidden;\n    height: ${this.viewHeight }px;\n    transition: height 1s ease;\n    `\n    );\n    let createdStyleTag: HTMLStyleElement;\n    createdStyleTag = document.createElement(\"style\");\n    createdStyleTag.setAttribute(`id`, `style_view_more`);\n    createdStyleTag.textContent = `.view_more {\n      height: ${this.actualHeight }px !important;\n    }  \n`;\n    this.element.style.animationDirection = \"\";\n    // document.body.appendChild(createdStyleTag);\n    this.element.appendChild(createdStyleTag);\n    element.addEventListener('click', () => {\n\n      if (this.toggleShowMore) {\n        console.log('viewless');\n        this.element.classList.remove(\"view_more\");\n        document.getElementById('text_view').innerHTML = 'view more...';\n        this.toggleShowMore = !this.toggleShowMore;\n      } else {\n        console.log('viewmore');\n        document.getElementById('text_view').innerHTML = 'view less...';\n        this.element.classList.add(\"view_more\");\n        this.toggleShowMore = !this.toggleShowMore;\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    document.getElementById('style_view_more').remove();\n  }\n}","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\nimport { ViewMoreDirective } from './view-more.directive';\nimport {HttpClientModule} from '@angular/common/http'\n\n@NgModule({\n  imports:      [ BrowserModule, FormsModule, HttpClientModule ],\n  declarations: [ AppComponent, HelloComponent,ViewMoreDirective ],\n  bootstrap: [AppComponent],\n  exports:[ViewMoreDirective]\n})\nexport class AppModule { }\n"],"names":["http","HttpHeaders","Component","HttpClient","Input","EventEmitter","Directive","ElementRef","Output","NgModule","BrowserModule","FormsModule","HttpClientModule"],"mappings":"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"}

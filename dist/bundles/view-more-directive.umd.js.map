{"version":3,"file":"view-more-directive.umd.js.map","sources":["ng://view-more-directive/app/app.component.ts","ng://view-more-directive/app/view-more.directive.ts","ng://view-more-directive/app/app.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  name = 'hi';\n  showReadmore: boolean = false;\n  constructor(private http: HttpClient) {\n  }\n  ngOnInit() {\n    console.log('height equal');\n    const data = {\n      name: 'vaibhav',\n      email: 'test@test.com'\n    }\n    const formData = new FormData();\n    formData.append('name', 'vaibhav');\n    formData.append('email', 'test@test.com');\n    const url = 'http://192.168.15.160:8000/api/reg';\n    const options = {\n      headers: new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\n    };\n    this.http.post(url, formData, options).subscribe(res => {\n      console.log('res', res);\n    });\n  }\n  showMore(show: boolean) {\n    this.showReadmore = show;\n    console.log(show);\n  }\n}\n","import { Directive, ElementRef, OnInit, Output, Input, EventEmitter, OnDestroy, AfterViewChecked, SimpleChanges } from '@angular/core';\n\n@Directive({\n  selector: '[view-more]'\n})\nexport class ViewMoreDirective implements OnInit, AfterViewChecked, OnDestroy {\n  private element: HTMLInputElement;\n  @Input() viewHeight: number;\n  @Output() showMore = new EventEmitter<boolean>()\n  toggleShowMore = false;\n  actualHeight: number;\n  private isInsertedViewMoreBtn = false;\n  constructor(private elRef: ElementRef) {\n    //elRef will get a reference to the element where\n    //the directive is placed\n    this.element = elRef.nativeElement;\n  }\n  ngOnChanges(changes: SimpleChanges) {\n    // console.log('changes',changes);\n  }\n  ngOnInit() {\n    console.log('height equal', this.viewHeight, this.element.offsetHeight);\n  }\n  ngAfterViewChecked() {\n    this.actualHeight = this.element.offsetHeight + 10;\n    if (!this.isInsertedViewMoreBtn && (this.element.offsetHeight > this.viewHeight)) {\n      let btnName = 'view More...';\n      console.log('height equal');\n\n      let para = document.createElement(\"p\");\n      let span = document.createElement(\"span\");\n      let textNode = document.createTextNode(`${ btnName }`);\n      span.appendChild(textNode);\n      para.appendChild(span);\n      para.setAttribute(`style`, `text-align: right;`);\n      span.setAttribute(`id`, `text_view`);\n      span.setAttribute('style', 'cursor:pointer;')\n      this.element.parentNode.insertBefore(para, this.element.nextSibling)\n      this.toggleEventOnViewMore(span);\n      this.isInsertedViewMoreBtn = true;\n    }\n  }\n  toggleEventOnViewMore(element: HTMLElement) {\n    this.element.setAttribute(\n      `style`,\n      `overflow: hidden;\n    height: ${this.viewHeight }px;\n    transition: height 1s ease;\n    `\n    );\n    let createdStyleTag: HTMLStyleElement;\n    createdStyleTag = document.createElement(\"style\");\n    createdStyleTag.setAttribute(`id`, `style_view_more`);\n    createdStyleTag.textContent = `.view_more {\n      height: ${this.actualHeight }px !important;\n    }  \n`;\n    this.element.style.animationDirection = \"\";\n    // document.body.appendChild(createdStyleTag);\n    this.element.appendChild(createdStyleTag);\n    element.addEventListener('click', () => {\n\n      if (this.toggleShowMore) {\n        console.log('viewless');\n        this.element.classList.remove(\"view_more\");\n        document.getElementById('text_view').innerHTML = 'view more...';\n        this.toggleShowMore = !this.toggleShowMore;\n        this.showMore.emit(false);\n      } else {\n        console.log('viewmore');\n        document.getElementById('text_view').innerHTML = 'view less...';\n        this.element.classList.add(\"view_more\");\n        this.toggleShowMore = !this.toggleShowMore;\n        this.showMore.emit(true);\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    if (document.getElementById('style_view_more')) {\n      document.getElementById('style_view_more').remove();\n    }\n  }\n}","import { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { ViewMoreDirective } from './view-more.directive';\n\n@NgModule({\n  imports:[],\n  declarations: [ AppComponent,ViewMoreDirective ],\n  bootstrap: [AppComponent],\n  exports:[ViewMoreDirective]\n})\nexport class AppModule { }\n"],"names":["http","HttpHeaders","Component","HttpClient","EventEmitter","Directive","ElementRef","Input","Output","NgModule"],"mappings":"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"}

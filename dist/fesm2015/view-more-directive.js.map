{"version":3,"file":"view-more-directive.js.map","sources":["ng://view-more-directive/app/app.component.ts","ng://view-more-directive/app/view-more.directive.ts","ng://view-more-directive/app/app.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  name = 'hi';\n  showReadmore: boolean = false;\n  constructor(private http: HttpClient) {\n  }\n  ngOnInit() {\n    console.log('height equal');\n    const data = {\n      name: 'vaibhav',\n      email: 'test@test.com'\n    }\n    const formData = new FormData();\n    formData.append('name', 'vaibhav');\n    formData.append('email', 'test@test.com');\n    const url = 'http://192.168.15.160:8000/api/reg';\n    const options = {\n      headers: new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\n    };\n    this.http.post(url, formData, options).subscribe(res => {\n      console.log('res', res);\n    });\n  }\n  showMore(show: boolean) {\n    this.showReadmore = show;\n    console.log(show);\n  }\n}\n","import { Directive, ElementRef, OnInit, Output, Input, EventEmitter, OnDestroy, AfterViewChecked, SimpleChanges } from '@angular/core';\n\n@Directive({\n  selector: '[view-more]'\n})\nexport class ViewMoreDirective implements OnInit, AfterViewChecked, OnDestroy {\n  private element: HTMLInputElement;\n  @Input() viewHeight: number;\n  @Output() showMore = new EventEmitter<boolean>()\n  toggleShowMore = false;\n  actualHeight: number;\n  private isInsertedViewMoreBtn = false;\n  constructor(private elRef: ElementRef) {\n    //elRef will get a reference to the element where\n    //the directive is placed\n    this.element = elRef.nativeElement;\n  }\n  ngOnChanges(changes: SimpleChanges) {\n    // console.log('changes',changes);\n  }\n  ngOnInit() {\n    console.log('height equal', this.viewHeight, this.element.offsetHeight);\n  }\n  ngAfterViewChecked() {\n    this.actualHeight = this.element.offsetHeight + 10;\n    if (!this.isInsertedViewMoreBtn && (this.element.offsetHeight > this.viewHeight)) {\n      let btnName = 'view More...';\n      console.log('height equal');\n\n      let para = document.createElement(\"p\");\n      let span = document.createElement(\"span\");\n      let textNode = document.createTextNode(`${ btnName }`);\n      span.appendChild(textNode);\n      para.appendChild(span);\n      para.setAttribute(`style`, `text-align: right;`);\n      span.setAttribute(`id`, `text_view`);\n      span.setAttribute('style', 'cursor:pointer;')\n      this.element.parentNode.insertBefore(para, this.element.nextSibling)\n      this.toggleEventOnViewMore(span);\n      this.isInsertedViewMoreBtn = true;\n    }\n  }\n  toggleEventOnViewMore(element: HTMLElement) {\n    this.element.setAttribute(\n      `style`,\n      `overflow: hidden;\n    height: ${this.viewHeight }px;\n    transition: height 1s ease;\n    `\n    );\n    let createdStyleTag: HTMLStyleElement;\n    createdStyleTag = document.createElement(\"style\");\n    createdStyleTag.setAttribute(`id`, `style_view_more`);\n    createdStyleTag.textContent = `.view_more {\n      height: ${this.actualHeight }px !important;\n    }  \n`;\n    this.element.style.animationDirection = \"\";\n    // document.body.appendChild(createdStyleTag);\n    this.element.appendChild(createdStyleTag);\n    element.addEventListener('click', () => {\n\n      if (this.toggleShowMore) {\n        console.log('viewless');\n        this.element.classList.remove(\"view_more\");\n        document.getElementById('text_view').innerHTML = 'view more...';\n        this.toggleShowMore = !this.toggleShowMore;\n        this.showMore.emit(false);\n      } else {\n        console.log('viewmore');\n        document.getElementById('text_view').innerHTML = 'view less...';\n        this.element.classList.add(\"view_more\");\n        this.toggleShowMore = !this.toggleShowMore;\n        this.showMore.emit(true);\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    if (document.getElementById('style_view_more')) {\n      document.getElementById('style_view_more').remove();\n    }\n  }\n}","import { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { ViewMoreDirective } from './view-more.directive';\n\n@NgModule({\n  imports:[],\n  declarations: [ AppComponent,ViewMoreDirective ],\n  bootstrap: [AppComponent],\n  exports:[ViewMoreDirective]\n})\nexport class AppModule { }\n"],"names":[],"mappings":"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"}
